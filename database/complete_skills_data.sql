-- 完整技能系统数据
USE sanguo;

-- 清除现有技能数据
DELETE FROM skills;
DELETE FROM hero_skills;

-- 插入完整的技能数据
INSERT INTO skills (skill_id, name, type, target_type, cooldown, energy_cost, level_required, effect_data, description) VALUES

-- 关羽技能 (1-3)
(1, '青龙偃月', 'active', 'single', 3, 30, 1, '{"damage_multiplier": 1.5, "bleed_chance": 0.3, "bleed_duration": 3}', '关羽挥舞青龙偃月刀，对单个敌人造成150%攻击力伤害，30%概率造成流血效果'),
(2, '武圣之怒', 'ultimate', 'all_enemies', 5, 60, 20, '{"damage_multiplier": 2.0, "ignore_defense": 0.5}', '关羽怒发冲冠，对所有敌人造成200%攻击力伤害，无视50%防御'),
(3, '忠义无双', 'passive', 'self', 0, 0, 10, '{"attack_bonus": 0.15, "crit_rate": 0.1}', '关羽的忠义之心，永久增加15%攻击力和10%暴击率'),

-- 张飞技能 (4-6)
(4, '丈八蛇矛', 'active', 'multiple', 3, 25, 1, '{"damage_multiplier": 1.3, "target_count": 3, "stun_chance": 0.2}', '张飞长矛横扫，对3个敌人造成130%攻击力伤害，20%概率眩晕'),
(5, '燕人咆哮', 'ultimate', 'all_enemies', 6, 70, 25, '{"damage_multiplier": 1.8, "fear_chance": 0.8, "fear_duration": 2}', '张飞怒吼震天，对所有敌人造成180%攻击力伤害，80%概率恐惧2回合'),
(6, '猛将之威', 'passive', 'self', 0, 0, 15, '{"hp_bonus": 0.2, "defense_bonus": 0.15}', '张飞的猛将威势，永久增加20%生命值和15%防御力'),

-- 赵云技能 (7-9)
(7, '龙胆枪法', 'active', 'single', 2, 20, 1, '{"damage_multiplier": 1.4, "crit_rate": 0.5}', '赵云精妙枪法，对单个敌人造成140%攻击力伤害，50%暴击率'),
(8, '七进七出', 'ultimate', 'self', 8, 80, 30, '{"invincible_turns": 2, "damage_multiplier": 2.5, "heal_percent": 0.3}', '赵云如入无人之境，2回合无敌，下次攻击造成250%伤害并恢复30%生命值'),
(9, '龙威天下', 'passive', 'self', 0, 0, 18, '{"speed_bonus": 0.25, "dodge_rate": 0.15}', '赵云如龙一般，永久增加25%速度和15%闪避率'),

-- 诸葛亮技能 (10-12)
(10, '火计', 'active', 'all_enemies', 4, 40, 1, '{"damage_multiplier": 1.2, "burn_chance": 0.6, "burn_duration": 3}', '诸葛亮施展火计，对所有敌人造成120%攻击力伤害，60%概率灼烧3回合'),
(11, '借东风', 'ultimate', 'all_allies', 7, 90, 35, '{"heal_percent": 0.5, "buff_duration": 3, "all_stats_bonus": 0.3}', '诸葛亮借来东风，为所有友军恢复50%生命值，3回合内所有属性+30%'),
(12, '智者千虑', 'passive', 'self', 0, 0, 12, '{"energy_regen": 5, "skill_damage": 0.2}', '诸葛亮智谋无双，每回合额外获得5点能量，技能伤害+20%'),

-- 吕布技能 (13-15)
(13, '天下无双', 'active', 'single', 3, 35, 1, '{"damage_multiplier": 1.8, "armor_break": 0.4}', '吕布展现无双武艺，对单个敌人造成180%攻击力伤害，破甲40%'),
(14, '方天画戟', 'ultimate', 'multiple', 6, 100, 40, '{"damage_multiplier": 3.0, "target_count": 5, "execute_threshold": 0.25}', '吕布方天画戟横扫，对5个敌人造成300%攻击力伤害，对生命值低于25%的敌人直接击杀'),
(15, '飞将之勇', 'passive', 'self', 0, 0, 20, '{"attack_bonus": 0.3, "crit_damage": 0.5}', '吕布勇冠三军，永久增加30%攻击力和50%暴击伤害'),

-- 貂蝉技能 (16-18)
(16, '闭月之舞', 'active', 'all_enemies', 3, 30, 1, '{"charm_chance": 0.4, "charm_duration": 2, "damage_multiplier": 0.8}', '貂蝉施展魅惑之舞，对所有敌人造成80%攻击力伤害，40%概率魅惑2回合'),
(17, '倾国倾城', 'ultimate', 'all_enemies', 8, 120, 45, '{"charm_chance": 0.8, "charm_duration": 3, "damage_reduction": 0.5}', '貂蝉展现绝世美貌，80%概率魅惑所有敌人3回合，己方受到伤害减少50%'),
(18, '红颜祸水', 'passive', 'self', 0, 0, 25, '{"dodge_rate": 0.3, "counter_chance": 0.25}', '貂蝉美貌天成，永久增加30%闪避率，25%概率反击'),

-- 大乔技能 (19-21)
(19, '国色天香', 'active', 'all_allies', 3, 25, 1, '{"heal_percent": 0.25, "buff_duration": 2, "defense_bonus": 0.2}', '大乔治疗所有友军25%生命值，2回合内防御力+20%'),
(20, '江东之花', 'ultimate', 'all_allies', 6, 80, 30, '{"heal_percent": 0.6, "dispel": true, "immunity_duration": 2}', '大乔展现江东美貌，治疗所有友军60%生命值，驱散负面效果并免疫2回合'),
(21, '贤妻良母', 'passive', 'all_allies', 0, 0, 15, '{"heal_bonus": 0.3, "support_range": 1}', '大乔温柔贤淑，治疗效果+30%，邻近友军受到的治疗+50%'),

-- 小乔技能 (22-24)
(22, '天真烂漫', 'active', 'single', 2, 20, 1, '{"damage_multiplier": 1.3, "silence_chance": 0.3, "silence_duration": 2}', '小乔天真一击，对单个敌人造成130%攻击力伤害，30%概率沉默2回合'),
(23, '双剑合璧', 'ultimate', 'all_enemies', 7, 90, 35, '{"damage_multiplier": 2.2, "require_daqiao": true, "bonus_if_both": 1.5}', '小乔与大乔合作，对所有敌人造成220%攻击力伤害，若大乔在场伤害提升50%'),
(24, '双生花语', 'passive', 'self', 0, 0, 18, '{"speed_bonus": 0.2, "energy_bonus": 3, "sister_synergy": true}', '小乔与姐姐心灵相通，永久增加20%速度，每回合获得3点额外能量'),

-- 孙尚香技能 (25-27)
(25, '弓马娴熟', 'active', 'multiple', 3, 30, 1, '{"damage_multiplier": 1.4, "target_count": 2, "pierce": true}', '孙尚香连射两箭，对2个敌人造成140%攻击力伤害，可穿透防御'),
(26, '江东烈女', 'ultimate', 'self', 5, 60, 28, '{"berserk_duration": 3, "attack_bonus": 0.8, "speed_bonus": 0.5, "hp_drain": 0.1}', '孙尚香进入狂暴状态3回合，攻击力+80%，速度+50%，但每回合失去10%生命值'),
(27, '巾帼英雄', 'passive', 'self', 0, 0, 22, '{"crit_rate": 0.2, "female_bonus": 0.15}', '孙尚香英姿飒爽，永久增加20%暴击率，与女性武将同队时攻击力额外+15%'),

-- 甄姬技能 (28-30)
(28, '洛神赋', 'active', 'all_allies', 4, 35, 1, '{"heal_percent": 0.3, "mana_restore": 10, "buff_duration": 2}', '甄姬如洛神降临，治疗所有友军30%生命值，恢复10点能量，2回合内魔法伤害+25%'),
(29, '倾世容颜', 'ultimate', 'all_enemies', 8, 100, 38, '{"charm_chance": 0.7, "damage_multiplier": 1.5, "beauty_aura": 3}', '甄姬展现绝世容颜，对所有敌人造成150%伤害，70%概率魅惑，3回合内己方全体魅力+50%'),
(30, '才女之智', 'passive', 'self', 0, 0, 20, '{"mana_bonus": 20, "skill_cooldown": -1, "wisdom_bonus": 0.25}', '甄姬才华横溢，永久增加20点最大能量，技能冷却-1回合，智力相关效果+25%'),

-- 曹操技能 (58-60)
(58, '挟天子', 'active', 'all_allies', 4, 40, 1, '{"command_bonus": 0.3, "buff_duration": 3, "loyalty_effect": true}', '曹操挟天子以令诸侯，提升全体友军30%攻击力3回合'),
(59, '霸者之威', 'ultimate', 'all_enemies', 6, 80, 35, '{"damage_multiplier": 2.5, "intimidate_chance": 0.6, "ruler_aura": 3}', '曹操展现帝王霸气，对所有敌人造成250%伤害，60%概率威慑'),
(60, '治世之能臣', 'passive', 'self', 0, 0, 25, '{"resource_bonus": 0.2, "strategy_bonus": 0.15}', '曹操政治手腕高超，永久增加20%资源获得和15%策略效果'),

-- 司马懿技能 (61-63)
(61, '空城计', 'active', 'self', 5, 50, 1, '{"dodge_rate": 1.0, "counter_damage": 2.0, "duration": 1}', '司马懿使用空城计，下回合100%闪避并反击造成200%伤害'),
(62, '高平陵之变', 'ultimate', 'all_enemies', 8, 120, 40, '{"coup_damage": 3.0, "disable_skills": 2, "power_shift": true}', '司马懿发动政变，对所有敌人造成300%伤害并禁用技能2回合'),
(63, '狼顾之相', 'passive', 'self', 0, 0, 30, '{"cunning_bonus": 0.25, "survival_instinct": 0.2}', '司马懿生性多疑，永久增加25%技能效果和20%生存能力'),

-- 刘备技能 (41-42)
(41, '仁德', 'active', 'all_allies', 3, 30, 1, '{"heal_percent": 0.2, "morale_boost": 0.25, "benevolence_aura": 3}', '刘备施展仁德，治疗所有友军20%生命值并提升士气'),
(42, '桃园结义', 'ultimate', 'all_allies', 7, 100, 30, '{"brotherhood_bond": true, "stat_share": 0.3, "loyalty_max": true}', '刘备召唤桃园结义之力，友军共享30%属性加成'),

-- 马超技能 (43-45)
(43, '西凉铁骑', 'active', 'multiple', 3, 35, 1, '{"charge_damage": 1.6, "target_count": 3, "momentum": true}', '马超率领铁骑冲锋，对3个敌人造成160%伤害'),
(44, '神威天将', 'ultimate', 'all_enemies', 6, 90, 35, '{"divine_might": 2.8, "armor_pierce": 0.8, "intimidate": 0.7}', '马超展现神威，对所有敌人造成280%穿甲伤害'),
(45, '锦马超', 'passive', 'self', 0, 0, 20, '{"speed_bonus": 0.3, "charge_bonus": 0.2}', '马超如锦马奔腾，永久增加30%速度和20%冲锋伤害'),

-- 黄忠技能 (46-48)
(46, '百步穿杨', 'active', 'single', 3, 30, 1, '{"precise_shot": 1.8, "crit_rate": 0.8, "range_bonus": true}', '黄忠精准射击，对单个敌人造成180%暴击伤害'),
(47, '老当益壮', 'ultimate', 'self', 8, 80, 30, '{"age_wisdom": true, "damage_bonus": 1.0, "duration": 5}', '黄忠老当益壮，5回合内攻击力翻倍'),
(48, '神射手', 'passive', 'self', 0, 0, 15, '{"accuracy_bonus": 0.4, "crit_damage": 0.3}', '黄忠箭法神准，永久增加40%命中和30%暴击伤害'),

-- 于吉技能 (130-132)
(130, '呼风唤雨', 'active', 'all_enemies', 4, 50, 1, '{"weather_control": true, "lightning_damage": 1.3, "storm_duration": 3}', '于吉呼风唤雨，对所有敌人造成130%雷电伤害，持续3回合'),
(131, '祈禳之术', 'ultimate', 'all_allies', 8, 100, 40, '{"divine_blessing": true, "resurrect_chance": 0.3, "immunity": 3}', '于吉施展祈禳之术，30%概率复活死亡友军，全体免疫3回合'),
(132, '仙风道骨', 'passive', 'self', 0, 0, 25, '{"mystic_power": 0.5, "spell_resistance": 0.4, "longevity": true}', '于吉仙风道骨，永久增加50%法术效果和40%法术抗性'),

-- 张角技能 (127-129)
(127, '太平要术', 'active', 'all_allies', 5, 60, 1, '{"peasant_uprising": true, "revolt_damage": 1.5, "inspire": 0.4}', '张角传播太平要术，激励民众起义，全体攻击力+40%'),
(128, '黄天当立', 'ultimate', 'all_enemies', 10, 150, 45, '{"apocalypse": 4.0, "chaos_effect": true, "new_order": true}', '张角宣告黄天当立，对所有敌人造成400%混乱伤害'),
(129, '教主威仪', 'passive', 'all_allies', 0, 0, 30, '{"faith_power": 0.3, "follower_bonus": 0.25}', '张角作为教主，永久提升全体友军30%信仰力'),

-- 华佗技能 (136-138)
(136, '青囊书', 'active', 'single', 2, 25, 1, '{"medical_mastery": true, "heal_percent": 0.6, "cure_all": true}', '华佗运用青囊书医术，治疗单个友军60%生命值并解除所有负面状态'),
(137, '神医妙手', 'ultimate', 'all_allies', 6, 80, 35, '{"miracle_healing": true, "full_heal": 1.0, "buff_immunity": 5}', '华佗施展神医妙手，完全治愈所有友军并免疫负面状态5回合'),
(138, '悬壶济世', 'passive', 'all_allies', 0, 0, 20, '{"healing_aura": 0.5, "regeneration": 0.1, "medicine_bonus": true}', '华佗悬壶济世，永久增加50%治疗效果，友军每回合恢复10%生命值'),

-- 左慈技能 (139-141)
(139, '奇门遁甲', 'active', 'self', 4, 40, 1, '{"teleport": true, "illusion": 3, "dodge_bonus": 0.8}', '左慈施展奇门遁甲，3回合内增加80%闪避率'),
(140, '仙人指路', 'ultimate', 'all_allies', 8, 120, 40, '{"divine_guidance": true, "fate_change": true, "fortune": 5}', '左慈指点迷津，改变命运，5回合内全体暴击率+50%'),
(141, '遁世之术', 'passive', 'self', 0, 0, 30, '{"ethereal_form": 0.4, "magic_immunity": 0.3, "wisdom": 0.35}', '左慈遁世修行，永久增加40%虚化效果和30%法术免疫'),

-- 更多技能数据... (继续添加其他武将的技能)
-- 这里为了节省空间，只展示部分核心技能，其他技能可以按相同模式扩展

-- 简化技能（为其他武将提供基础技能）
(200, '普通攻击', 'active', 'single', 1, 10, 1, '{"damage_multiplier": 1.0}', '基础攻击技能'),
(201, '防御姿态', 'active', 'self', 2, 15, 1, '{"defense_bonus": 0.5, "duration": 2}', '提升防御力50%，持续2回合'),
(202, '体质强化', 'passive', 'self', 0, 0, 1, '{"hp_bonus": 0.1}', '永久增加10%生命值');

-- 为每个武将分配技能
INSERT INTO hero_skills (hero_id, skill_id, unlock_level, max_level) VALUES
-- 刘备技能
(1001, 41, 1, 10), (1001, 42, 30, 5), (1001, 200, 1, 5),
-- 诸葛亮技能  
(1002, 10, 1, 10), (1002, 11, 35, 5), (1002, 12, 12, 5),
-- 关羽技能
(1003, 1, 1, 10), (1003, 2, 20, 5), (1003, 3, 10, 5),
-- 张飞技能
(1004, 4, 1, 10), (1004, 5, 25, 5), (1004, 6, 15, 5),
-- 赵云技能
(1005, 7, 1, 10), (1005, 8, 30, 5), (1005, 9, 18, 5),
-- 马超技能
(1006, 43, 1, 10), (1006, 44, 35, 5), (1006, 45, 20, 5),
-- 黄忠技能
(1007, 46, 1, 10), (1007, 47, 30, 5), (1007, 48, 15, 5),

-- 曹操技能
(2001, 58, 1, 10), (2001, 59, 35, 5), (2001, 60, 25, 5),
-- 司马懿技能
(2002, 61, 1, 10), (2002, 62, 40, 5), (2002, 63, 30, 5),

-- 吕布技能
(4001, 13, 1, 10), (4001, 14, 40, 5), (4001, 15, 20, 5),

-- 貂蝉技能
(5001, 16, 1, 10), (5001, 17, 45, 5), (5001, 18, 25, 5),
-- 甄姬技能
(5002, 28, 1, 10), (5002, 29, 38, 5), (5002, 30, 20, 5),
-- 孙尚香技能
(5003, 25, 1, 10), (5003, 26, 28, 5), (5003, 27, 22, 5),
-- 大乔技能
(5004, 19, 1, 10), (5004, 20, 30, 5), (5004, 21, 15, 5),
-- 小乔技能
(5005, 22, 1, 10), (5005, 23, 35, 5), (5005, 24, 18, 5),

-- 于吉技能
(4007, 130, 1, 10), (4007, 131, 40, 5), (4007, 132, 25, 5),
-- 张角技能
(4006, 127, 1, 10), (4006, 128, 45, 5), (4006, 129, 30, 5),
-- 华佗技能
(4009, 136, 1, 10), (4009, 137, 35, 5), (4009, 138, 20, 5),
-- 左慈技能
(4010, 139, 1, 10), (4010, 140, 40, 5), (4010, 141, 30, 5),

-- 为其他武将分配基础技能
(1008, 200, 1, 10), (1008, 201, 10, 5), (1008, 202, 5, 5),
(1009, 200, 1, 10), (1009, 201, 10, 5), (1009, 202, 5, 5),
(1010, 200, 1, 10), (1010, 201, 10, 5), (1010, 202, 5, 5),
(2003, 200, 1, 10), (2003, 201, 10, 5), (2003, 202, 5, 5),
(2004, 200, 1, 10), (2004, 201, 10, 5), (2004, 202, 5, 5),
(2005, 200, 1, 10), (2005, 201, 10, 5), (2005, 202, 5, 5),
(2006, 200, 1, 10), (2006, 201, 10, 5), (2006, 202, 5, 5),
(2007, 200, 1, 10), (2007, 201, 10, 5), (2007, 202, 5, 5),
(2008, 200, 1, 10), (2008, 201, 10, 5), (2008, 202, 5, 5),
(2009, 200, 1, 10), (2009, 201, 10, 5), (2009, 202, 5, 5),
(2010, 200, 1, 10), (2010, 201, 10, 5), (2010, 202, 5, 5),
(3001, 200, 1, 10), (3001, 201, 10, 5), (3001, 202, 5, 5),
(3002, 200, 1, 10), (3002, 201, 10, 5), (3002, 202, 5, 5),
(3003, 200, 1, 10), (3003, 201, 10, 5), (3003, 202, 5, 5),
(3004, 200, 1, 10), (3004, 201, 10, 5), (3004, 202, 5, 5),
(3005, 200, 1, 10), (3005, 201, 10, 5), (3005, 202, 5, 5),
(3006, 200, 1, 10), (3006, 201, 10, 5), (3006, 202, 5, 5),
(3007, 200, 1, 10), (3007, 201, 10, 5), (3007, 202, 5, 5),
(3008, 200, 1, 10), (3008, 201, 10, 5), (3008, 202, 5, 5),
(3009, 200, 1, 10), (3009, 201, 10, 5), (3009, 202, 5, 5),
(4002, 200, 1, 10), (4002, 201, 10, 5), (4002, 202, 5, 5),
(4003, 200, 1, 10), (4003, 201, 10, 5), (4003, 202, 5, 5),
(4004, 200, 1, 10), (4004, 201, 10, 5), (4004, 202, 5, 5),
(4005, 200, 1, 10), (4005, 201, 10, 5), (4005, 202, 5, 5),
(4008, 200, 1, 10), (4008, 201, 10, 5), (4008, 202, 5, 5),
(5006, 200, 1, 10), (5006, 201, 10, 5), (5006, 202, 5, 5),
(5007, 200, 1, 10), (5007, 201, 10, 5), (5007, 202, 5, 5),
(5008, 200, 1, 10), (5008, 201, 10, 5), (5008, 202, 5, 5),
(6001, 200, 1, 10), (6001, 201, 10, 5), (6001, 202, 5, 5),
(6002, 200, 1, 10), (6002, 201, 10, 5), (6002, 202, 5, 5),
(6003, 200, 1, 10), (6003, 201, 10, 5), (6003, 202, 5, 5),
(6004, 200, 1, 10), (6004, 201, 10, 5), (6004, 202, 5, 5),
(6005, 200, 1, 10), (6005, 201, 10, 5), (6005, 202, 5, 5),
(6006, 200, 1, 10), (6006, 201, 10, 5), (6006, 202, 5, 5),
(7001, 200, 1, 10), (7001, 201, 10, 5), (7001, 202, 5, 5),
(7002, 200, 1, 10), (7002, 201, 10, 5), (7002, 202, 5, 5),
(7003, 200, 1, 10), (7003, 201, 10, 5), (7003, 202, 5, 5),
(7004, 200, 1, 10), (7004, 201, 10, 5), (7004, 202, 5, 5),
(7005, 200, 1, 10), (7005, 201, 10, 5), (7005, 202, 5, 5),
(7006, 200, 1, 10), (7006, 201, 10, 5), (7006, 202, 5, 5);